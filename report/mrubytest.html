<html>
<head>
  <meta charset='utf-8' />
  <title>mruby/c test report</title>
  <script type='text/javascript' src='jquery-3.1.1.min.js'></script>
  <style>
    h2.test-category { text-decoration: underline; }
    h2.test-category:hover { cursor: pointer; }
    pre.console {
      float: left;
      width: 33%;
      overflow-x: auto;
      border: 1px dotted #eee;
    }
    div.test-detail { display: none; }
    .segv { color: #ca0; }
    .ok { color: green; }
    .ng { color: #a00; }
  </style>
</head>
<body>

  
    <div>
      <h2 class='test-category segv' data-idx='0'>
        test_literals.rb
      </h2>
      <div class='test-detail' data-idx='0'>
        
          
            <h3 class='ok'>Literals Numerical</h3>
          
          <pre class='console rb_txt'>  # signed and unsigned integer
  assert_equal 1, 1
  assert_equal(-1, -1)
  assert_equal(+1, +1)
  # signed and unsigned float
  assert_equal 1.0, 1.0
  assert_equal(-1.0, -1.0)
  # binary
  assert_equal 128, 0b10000000
  assert_equal 128, 0B10000000
  # octal
  assert_equal 8, 0o10
  assert_equal 8, 0O10
  assert_equal 8, 0_10
  # hex
  assert_equal 255, 0xff
  assert_equal 255, 0Xff
  # decimal
  assert_equal 999, 0d999
  assert_equal 999, 0D999
  # decimal seperator
  assert_equal 10000000, 10_000_000
  assert_equal       10, 1_0
  # integer with exponent
  assert_equal 10.0, 1e1
  assert_equal(0.1, 1e-1)
  assert_equal 10.0, 1e+1
  # float with exponent
  assert_equal 10.0, 1.0e1
  assert_equal(0.1, 1.0e-1)
  assert_equal 10.0, 1.0e+1
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Literals Strings Single Quoted</h3>
          
          <pre class='console rb_txt'>  assert_equal &#39;abc&#39;, &#39;abc&#39;
  assert_equal &#39;\&#39;&#39;, &#39;\&#39;&#39;
  assert_equal &#39;\\&#39;, &#39;\\&#39;
</pre>
          <pre class='console out_txt'>ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Literals Strings Double Quoted</h3>
          
          <pre class='console rb_txt'>  a = &quot;abc&quot;
  assert_equal &quot;abc&quot;, &quot;abc&quot;
  assert_equal &quot;\&quot;&quot;, &quot;\&quot;&quot;
  assert_equal &quot;\\&quot;, &quot;\\&quot;
  assert_equal &quot;abc&quot;, &quot;#{a}&quot;
</pre>
          <pre class='console out_txt'>ok
ok
ok
Skip OP=3E
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Literals Strings Quoted Non-Expanded</h3>
          
          <pre class='console rb_txt'>  a = %q{abc}
  b = %q(abc)
  c = %q[abc]
  d = %q&lt;abc&gt;
  e = %q/abc/
  f = %q/ab\/c/
  g = %q{#{a}}
  assert_equal &#39;abc&#39;, a
  assert_equal &#39;abc&#39;, b
  assert_equal &#39;abc&#39;, c
  assert_equal &#39;abc&#39;, d
  assert_equal &#39;abc&#39;, e
  assert_equal &#39;ab/c&#39;, f
  assert_equal &#39;#{a}&#39;, g
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Literals Strings Quoted Expanded</h3>
          
          <pre class='console rb_txt'>  a = %Q{abc}
  b = %Q(abc)
  c = %Q[abc]
  d = %Q&lt;abc&gt;
  e = %Q/abc/
  f = %Q/ab\/c/
  g = %Q{#{a}}
  assert_equal &#39;abc&#39;, a
  assert_equal &#39;abc&#39;, b
  assert_equal &#39;abc&#39;, c
  assert_equal &#39;abc&#39;, d
  assert_equal &#39;abc&#39;, e
  assert_equal &#39;ab/c&#39;, f
  assert_equal &#39;abc&#39;, g
</pre>
          <pre class='console out_txt'>Skip OP=3E
ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Literals Strings Here documents</h3>
          
          <pre class='console rb_txt'>  a = &lt;&lt;AAA
aaa
AAA
   b = &lt;&lt;b_b
bbb
b_b
    c = [&lt;&lt;CCC1, &lt;&lt;&quot;CCC2&quot;, &lt;&lt;&#39;CCC3&#39;]
c1
CCC1
c 2
CCC2
c  3
CCC3
      d = &lt;&lt;DDD
d#{1+2}DDD
d\t
DDD\n
DDD
  e = &lt;&lt;&#39;EEE&#39;
e#{1+2}EEE
e\t
EEE\n
EEE
  f = &lt;&lt;&quot;FFF&quot;
F
FF#{&quot;f&quot;}FFF
F
FFF
  g = &lt;&lt;-GGG
  ggg
  GGG
  h = &lt;&lt;-&quot;HHH&quot;
  hhh
  HHH
  i = &lt;&lt;-&#39;III&#39;
  iii
  III
  j = [&lt;&lt;-JJJ1   , &lt;&lt;-&quot;JJJ2&quot;   , &lt;&lt;-&#39;JJJ3&#39; ]
  j#{1}j
  JJJ1
  j#{2}j
  JJJ2
  j#{3}j
  JJJ3
  k = &lt;&lt;&#39;KKK&#39;.to_i
123
KKK
  m = [&lt;&lt;MM1, &lt;&lt;MM2]
x#{m2 = {x:&lt;&lt;MM3}}y
mm3
MM3
mm1
MM1
mm2
MM2
  n = [1, &quot;#{&lt;&lt;NN1}&quot;, 3,
nn1
NN1
  4]
  qqq = Proc.new {|*x| x.join(&#39; $ &#39;)}
  q1 = qqq.call(&quot;a&quot;, &lt;&lt;QQ1, &quot;c&quot;,
q
QQ1
      &quot;d&quot;)
  q2 = qqq.call(&quot;l&quot;, &quot;m#{&lt;&lt;QQ2}n&quot;,
qq
QQ2
      &quot;o&quot;)
  w = %W( 1 #{&lt;&lt;WWW} 3
www
WWW
      4 5 )
  x = [1, &lt;&lt;XXX1,
foo #{&lt;&lt;XXX2} bar
222 #{&lt;&lt;XXX3} 444
333
XXX3
5
XXX2
6
XXX1
    9]
  z = &lt;&lt;&#39;ZZZ&#39;
ZZZ
  assert_equal &quot;aaa\n&quot;, a
  assert_equal &quot;bbb\n&quot;, b
  assert_equal [&quot;c1\n&quot;, &quot;c 2\n&quot;, &quot;c  3\n&quot;], c
  assert_equal &quot;d3DDD\nd\t\nDDD\n\n&quot;, d
  assert_equal &quot;e\#{1+2}EEE\ne\\t\nEEE\\n\n&quot;, e
  assert_equal &quot;F\nFFfFFF\nF\n&quot;, f
  assert_equal &quot;  ggg\n&quot;, g
  assert_equal &quot;  hhh\n&quot;, h
  assert_equal &quot;  iii\n&quot;, i
  assert_equal [&quot;  j1j\n&quot;, &quot;  j2j\n&quot;, &quot;  j\#{3}j\n&quot;], j
  assert_equal 123, k
  assert_equal [&quot;x{:x=&gt;\&quot;mm3\\n\&quot;}y\nmm1\n&quot;, &quot;mm2\n&quot;], m
  assert_equal ({:x=&gt;&quot;mm3\n&quot;}), m2
  assert_equal [1, &quot;nn1\n&quot;, 3, 4], n
  assert_equal &quot;a $ q\n $ c $ d&quot;, q1
  assert_equal &quot;l $ mqq\nn $ o&quot;, q2
  assert_equal [&quot;1&quot;, &quot;www\n&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;], w
  assert_equal [1, &quot;foo 222 333\n 444\n5\n bar\n6\n&quot;, 9], x
  assert_equal &quot;&quot;, z
</pre>
          <pre class='console out_txt'>Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3F
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=21
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Literals Array</h3>
          
          <pre class='console rb_txt'>  a = %W{abc#{1+2}def \}g}
  b = %W(abc #{2+3} def \(g)
  c = %W[#{3+4}]
  d = %W&lt; #{4+5} &gt;
  e = %W//
  f = %W[[ab cd][ef]]
  g = %W{
    ab
    #{-1}1
    2#{2}
  }
  h = %W(a\nb
         test\ abc
         c\
d
         x\y x\\y x\\\y)
  assert_equal [&#39;abc3def&#39;, &#39;}g&#39;], a
  assert_equal [&#39;abc&#39;, &#39;5&#39;, &#39;def&#39;, &#39;(g&#39;], b
  assert_equal [&#39;7&#39;],c
  assert_equal [&#39;9&#39;], d
  assert_equal [], e
  assert_equal [&#39;[ab&#39;, &#39;cd][ef]&#39;], f
  assert_equal [&#39;ab&#39;, &#39;-11&#39;, &#39;22&#39;], g
  assert_equal [&quot;a\nb&quot;, &#39;test abc&#39;, &quot;c\nd&quot;, &quot;xy&quot;, &quot;x\\y&quot;, &quot;x\\y&quot;], h
  a = %w{abc#{1+2}def \}g}
  b = %w(abc #{2+3} def \(g)
  c = %w[#{3+4}]
  d = %w&lt; #{4+5} &gt;
  e = %w//
  f = %w[[ab cd][ef]]
  g = %w{
    ab
    #{-1}1
    2#{2}
  }
  h = %w(a\nb
         test\ abc
         c\
d
         x\y x\\y x\\\y)
  assert_equal [&#39;abc#{1+2}def&#39;, &#39;}g&#39;], a
  assert_equal [&#39;abc&#39;, &#39;#{2+3}&#39;, &#39;def&#39;, &#39;(g&#39;], b
  assert_equal [&#39;#{3+4}&#39;], c
  assert_equal [&#39;#{4+5}&#39;], d
  assert_equal [], e
  assert_equal [&#39;[ab&#39;, &#39;cd][ef]&#39;], f
  assert_equal [&#39;ab&#39;, &#39;#{-1}1&#39;, &#39;2#{2}&#39;], g
  assert_equal [&quot;a\\nb&quot;, &quot;test abc&quot;, &quot;c\nd&quot;, &quot;x\\y&quot;, &quot;x\\y&quot;, &quot;x\\\\y&quot;], h
</pre>
          <pre class='console out_txt'>Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
Skip OP=3E
ok
ok
ok
ok
ok
ok
ok
ok
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Literals Array of symbols</h3>
          
          <pre class='console rb_txt'>  a = %I{abc#{1+2}def \}g}
  b = %I(abc #{2+3} def \(g)
  c = %I[#{3+4}]
  d = %I&lt; #{4+5} &gt;
  e = %I//
  f = %I[[ab cd][ef]]
  g = %I{
    ab
    #{-1}1
    2#{2}
  }
  assert_equal [:&#39;abc3def&#39;, :&#39;}g&#39;], a
  assert_equal [:&#39;abc&#39;, :&#39;5&#39;, :&#39;def&#39;, :&#39;(g&#39;], b
  assert_equal [:&#39;7&#39;],c
  assert_equal [:&#39;9&#39;], d
  assert_equal [], e
  assert_equal [:&#39;[ab&#39;, :&#39;cd][ef]&#39;], f
  assert_equal [:&#39;ab&#39;, :&#39;-11&#39;, :&#39;22&#39;], g
  a = %i{abc#{1+2}def \}g}
  b = %i(abc #{2+3} def \(g)
  c = %i[#{3+4}]
  d = %i&lt; #{4+5} &gt;
  e = %i//
  f = %i[[ab cd][ef]]
  g = %i{
    ab
    #{-1}1
    2#{2}
  }
  assert_equal [:&#39;abc#{1+2}def&#39;, :&#39;}g&#39;], a
  assert_equal [:&#39;abc&#39;, :&#39;#{2+3}&#39;, :&#39;def&#39;, :&#39;(g&#39;], b
  assert_equal [:&#39;#{3+4}&#39;], c
  assert_equal [:&#39;#{4+5}&#39;], d
  assert_equal [] ,e
  assert_equal [:&#39;[ab&#39;, :&#39;cd][ef]&#39;], f
  assert_equal [:&#39;ab&#39;, :&#39;#{-1}1&#39;, :&#39;2#{2}&#39;], g
</pre>
          <pre class='console out_txt'>Skip OP=3E
Skip OP=3E
no method(intern)!
no method(intern)!
no method(intern)!
Skip OP=3E
no method(intern)!
no method(intern)!
no method(intern)!
Skip OP=3E
no method(intern)!
Skip OP=3E
no method(intern)!
no method(intern)!
no method(intern)!
no method(intern)!
Skip OP=3E
Skip OP=3E
no method(intern)!
Skip OP=3E
no method(intern)!
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Literals Symbol</h3>
          
          <pre class='console rb_txt'>  # do not compile error
  :$asd
  :@asd
  :@@asd
  :asd=
  :asd!
  :asd?
  :+
  :+@
  :if
  :BEGIN
  a = :&quot;asd qwe&quot;
  b = :&#39;foo bar&#39;
  c = :&quot;a#{1+2}b&quot;
  d = %s(asd)
  e = %s( foo \))
  f = %s[asd \[
qwe]
  g = %s/foo#{1+2}bar/
  h = %s{{foo bar}}
  assert_equal :&#39;asd qwe&#39;, a
  assert_equal :&quot;foo bar&quot;, b
  assert_equal :a3b, c
  assert_equal :asd, d
  assert_equal :&#39; foo )&#39;, e
  assert_equal :&quot;asd [\nqwe&quot;, f
  assert_equal :&#39;foo#{1+2}bar&#39;, g
  assert_equal :&#39;{foo bar}&#39;, h
</pre>
          <pre class='console out_txt'>Skip OP=3E
Skip OP=3E
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
      </div>
    </div>
  
    <div>
      <h2 class='test-category ok' data-idx='1'>
        test_integer.rb
      </h2>
      <div class='test-detail' data-idx='1'>
        
          
            <h3 class='ok'>Integer#+</h3>
          
          <pre class='console rb_txt'>  a = 1+1
  assert_equal 2, a
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#-</h3>
          
          <pre class='console rb_txt'>  a = 2-1
  assert_equal 1, a
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#*</h3>
          
          <pre class='console rb_txt'>  a = 1*1
  assert_equal 1, a
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#/</h3>
          
          <pre class='console rb_txt'>  a = 2/1
  assert_equal 2, a
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#%</h3>
          
          <pre class='console rb_txt'>  a = 1%1
  c = 2%4
  d = 2%5
  e = 2%-5
  f = -2%5
  g = -2%-5
  h =  2%-2
  i = -2%2
  j = -2%-2
  assert_equal 0, a
  assert_equal 2, c
  assert_equal 2, d
  assert_equal(-3, e)
  assert_equal 3, f
  assert_equal(-2, g)
  assert_equal 0, h
  assert_equal 0, i
  assert_equal 0, j
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#&lt;=&gt;</h3>
          
          <pre class='console rb_txt'>  a = 1&lt;=&gt;0
  b = 1&lt;=&gt;1
  c = 1&lt;=&gt;2
  assert_equal  1, a
  assert_equal  0, b
  assert_equal(-1, c)
</pre>
          <pre class='console out_txt'>ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#==</h3>
          
          <pre class='console rb_txt'>  a = 1==0
  b = 1==1
  assert_false a
  assert_true b
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#~</h3>
          
          <pre class='console rb_txt'>  # Complement
  assert_equal(-1, ~0)
  assert_equal(-3, ~2)
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#&amp;</h3>
          
          <pre class='console rb_txt'>  # Bitwise AND
  #   0101 (5)
  # &amp; 0011 (3)
  # = 0001 (1)
  assert_equal 1, 5 &amp; 3
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#&lt;&lt;</h3>
          
          <pre class='console rb_txt'>  # Left Shift by one
  #   00010111 (23)
  # = 00101110 (46)
  assert_equal 46, 23 &lt;&lt; 1
  # Left Shift by a negative is Right Shift
  assert_equal 23, 46 &lt;&lt; -1
  # Left Shift by 31 is bitShift overflow to SignedInt
  assert_equal 2147483648, 1 &lt;&lt; 31
  # -3 Left Shift by 30 is bitShift overflow to SignedInt
  assert_equal(-3221225472, -3 &lt;&lt; 30)
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#&gt;&gt;</h3>
          
          <pre class='console rb_txt'>  # Right Shift by one
  #   00101110 (46)
  # = 00010111 (23)
  assert_equal 23, 46 &gt;&gt; 1
  # Right Shift by a negative is Left Shift
  assert_equal 46, 23 &gt;&gt; -1
  # Don&#39;t raise on large Right Shift
  assert_equal 0, 23 &gt;&gt; 128
</pre>
          <pre class='console out_txt'>ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Integer#to_s</h3>
          
          <pre class='console rb_txt'>  assert_equal &#39;1&#39;, 1.to_s
  assert_equal(&quot;-1&quot;, -1.to_s)
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Numeric#+@</h3>
          
          <pre class='console rb_txt'>  assert_equal(+1, +1)
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Numeric#-@</h3>
          
          <pre class='console rb_txt'>  assert_equal(-1, -1)
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
      </div>
    </div>
  
    <div>
      <h2 class='test-category segv' data-idx='2'>
        test_mrubyc_stdlib.rb
      </h2>
      <div class='test-detail' data-idx='2'>
        
          
            <h3 class='ok'>Array#==</h3>
          
          <pre class='console rb_txt'>  assert_false([&quot;a&quot;, &quot;c&quot;] == [&quot;a&quot;, &quot;c&quot;, 7])
  assert_true([&quot;a&quot;, &quot;c&quot;, 7] == [&quot;a&quot;, &quot;c&quot;, 7])
  assert_false([&quot;a&quot;, &quot;c&quot;, 7] == [&quot;a&quot;, &quot;d&quot;, &quot;f&quot;])
</pre>
          <pre class='console out_txt'>ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#length</h3>
          
          <pre class='console rb_txt'>  a = [1,2,3]
  assert_equal(3, a.length)
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#size</h3>
          
          <pre class='console rb_txt'>  a = [1,2,3]
  assert_equal(3, a.size)
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#+</h3>
          
          <pre class='console rb_txt'>  assert_equal([1, 1], [1].+([1]))
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#empty?</h3>
          
          <pre class='console rb_txt'>  a = []
  b = [b]
  assert_true([].empty?)
  assert_false([1].empty?)
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#[]</h3>
          
          <pre class='console rb_txt'>  assert_equal(2, [1,2,3].[](1))
  assert_equal(nil, [1,2,3].[](4))
  assert_equal(3, [1,2,3].[](-1))
  assert_equal(nil, [1,2,3].[](-4))
  a = [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot; ]
  assert_equal(&quot;b&quot;, a[1.1])
  assert_equal([&quot;b&quot;, &quot;c&quot;], a[1,2])
  assert_equal([&quot;b&quot;, &quot;c&quot;, &quot;d&quot;], a[1..-2])
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#[]=</h3>
          
          <pre class='console rb_txt'>  assert_equal(4, [1,2,3].[]=(1,4))
  assert_equal(3, [1,2,3].[]=(1,2,3))
  a = [1,2,3,4,5]
  a[3..-1] = 6
  assert_equal([1,2,3,6], a)
  a = [1,2,3,4,5]
  a[3..-1] = []
  assert_equal([1,2,3], a)
  a = [1,2,3,4,5]
  a[2...4] = 6
  assert_equal([1,2,6,5], a)
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#index</h3>
          
          <pre class='console rb_txt'>  a = [1,2,3]
  assert_equal(1, a.index(2))
  assert_equal(nil, a.index(0))
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Array#last</h3>
          
          <pre class='console rb_txt'>  a = [1,2,3]
  assert_equal(3, a.last)
  assert_nil([].last)
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Array#pop</h3>
          
          <pre class='console rb_txt'>  a = [1,2,3]
  b = a.pop
  assert_nil([].pop)
  assert_equal([1,2], a)
  assert_equal(3, b)
</pre>
          <pre class='console out_txt'>Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>String#size</h3>
          
          <pre class='console rb_txt'>  assert_equal 3, &#39;abc&#39;.size
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>String#length</h3>
          
          <pre class='console rb_txt'>  assert_equal 3, &#39;abc&#39;.length
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>String#==</h3>
          
          <pre class='console rb_txt'>  assert_equal &#39;abc&#39;, &#39;abc&#39;
  assert_not_equal &#39;abc&#39;, &#39;cba&#39;
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>String#to_i</h3>
          
          <pre class='console rb_txt'>  a = &#39;&#39;.to_i
  b = &#39;32143&#39;.to_i
  c = &#39;a&#39;.to_i(16)
  d = &#39;100&#39;.to_i(2)
  e = &#39;1_000&#39;.to_i
  assert_equal 0, a
  assert_equal 32143, b
  assert_equal 10, c
  assert_equal 4, d
  assert_equal 1_000, e
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Check the usage of a NUL character</h3>
          
          <pre class='console rb_txt'>  &quot;qqq\0ppp&quot;
</pre>
          <pre class='console out_txt'></pre>
          <pre class='console cruby_txt'></pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Float#==</h3>
          
          <pre class='console rb_txt'>  assert_true 3.1 == 3.1
  assert_false 3.1 == 3.2
</pre>
          <pre class='console out_txt'>ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
      </div>
    </div>
  
    <div>
      <h2 class='test-category segv' data-idx='3'>
        test_syntax.rb
      </h2>
      <div class='test-detail' data-idx='3'>
        
          
            <h3 class='ok'>Abbreviated variable assignment</h3>
          
          <pre class='console rb_txt'>  a ||= 1
  b &amp;&amp;= 1
  c = 1
  c += 2
  assert_equal 1, a
  assert_nil b
  assert_equal 3, c
</pre>
          <pre class='console out_txt'>ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>Abbreviated variable assignment as returns</h3>
          
          <pre class='console rb_txt'>  module Syntax4AbbrVarAsgnAsReturns
    class A
      def b
        @c ||= 1
      end
    end
  end
  assert_equal 1, Syntax4AbbrVarAsgnAsReturns::A.new.b
</pre>
          <pre class='console out_txt'>Skip OP=44
Skip OP=45
Skip OP=13
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Splat and multiple assignment</h3>
          
          <pre class='console rb_txt'>  *a = *[1,2,3]
  b, *c = *[7,8,9]
  assert_equal [1,2,3], a
  assert_equal 7, b
  assert_equal [8,9], c
  (a, b), c = [1,2],3
  assert_equal [1,2,3], [a,b,c]
  (a, b), c = 1,2,3
  assert_equal [1,nil,2], [a,b,c]
</pre>
          <pre class='console out_txt'>Skip OP=3C
Skip OP=3A
Skip OP=3C
ok
ok
ok
Skip OP=3A
Skip OP=3A
ok
Skip OP=3A
Skip OP=3A
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Splat and multiple assignment from variable</h3>
          
          <pre class='console rb_txt'>  a = [1, 2, 3]
  b, *c = a
  assert_equal 1, b
  assert_equal [2, 3], c
</pre>
          <pre class='console out_txt'>Skip OP=3A
Skip OP=3C
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Splat and multiple assignment from variables</h3>
          
          <pre class='console rb_txt'>  a = [1, 2, 3]
  b = [4, 5, 6, 7]
  c, d, *e, f, g = *a, *b
  assert_equal 1, c
  assert_equal 2, d
  assert_equal [3, 4, 5], e
  assert_equal 6, f
  assert_equal 7, g
</pre>
          <pre class='console out_txt'>Skip OP=38
Skip OP=38
Skip OP=3A
Skip OP=3A
Skip OP=3C
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>Splat and multiple assignment in for</h3>
          
          <pre class='console rb_txt'>  a = [1, 2, 3, 4, 5, 6, 7]
  for b, c, *d, e, f in [a] do
  end
  assert_equal 1, b
  assert_equal 2, c
  assert_equal [3, 4, 5], d
  assert_equal 6, e
  assert_equal 7, f
</pre>
          <pre class='console out_txt'>Skip OP=21
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Splat without assignment</h3>
          
          <pre class='console rb_txt'>  * = [0]
  a, * = [1, 2]
  assert_equal 1, a
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>multiple assignment (rest)</h3>
          
          <pre class='console rb_txt'>  *a = 0
  assert_equal [0], a
</pre>
          <pre class='console out_txt'>Skip OP=3C
ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>multiple assignment (rest+post)</h3>
          
          <pre class='console rb_txt'>  *a, b = 0, 1, 2
  *c, d = 3
  assert_equal [0, 1], a
  assert_equal 2, b
  assert_equal [], c
  assert_equal 3, d
</pre>
          <pre class='console out_txt'>Skip OP=3C
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>multiple assignment (nosplat array rhs)</h3>
          
          <pre class='console rb_txt'>  a, *b = []
  *c, d = [0]
  e, *f, g = [1, 2]
  assert_nil a
  assert_equal [], b
  assert_equal [], c
  assert_equal 0, d
  assert_equal 1, e
  assert_equal [], f
  assert_equal 2, g
</pre>
          <pre class='console out_txt'>Skip OP=3A
Skip OP=3C
ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Return values of if and case statements</h3>
          
          <pre class='console rb_txt'>  true_clause_value =
    if true
      1
    else
      case 2
      when 3
      end
      4
    end
  assert_equal 1, true_clause_value
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>Return values of no expression case statement</h3>
          
          <pre class='console rb_txt'>  when_value =
    case
    when true
      1
    end
  assert_equal 1, when_value
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>splat object in assignment</h3>
          
          <pre class='console rb_txt'>  o = Object.new
  def o.to_a
    nil
  end
  assert_equal [o], (a = *o)
  def o.to_a
    1
  end
  assert_raise(TypeError) { a = *o }
  def o.to_a
    [2]
  end
  assert_equal [2], (a = *o)
</pre>
          <pre class='console out_txt'>no method(new)!
Skip OP=47
Skip OP=38
ok
Skip OP=47
Skip OP=21
Skip OP=47
Skip OP=38
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>splat object in case statement</h3>
          
          <pre class='console rb_txt'>  o = Object.new
  def o.to_a
    nil
  end
  a = case o
  when *o
    1
  end
  assert_equal 1, a
</pre>
          <pre class='console out_txt'>no method(new)!
Skip OP=47
no method(__case_eqq)!
ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ng'>splat in case statement</h3>
          
          <pre class='console rb_txt'>  values = [3,5,1,7,8]
  testa = [1,2,7]
  testb = [5,6]
  resulta = []
  resultb = []
  resultc = []
  values.each do |value|
    case value
    when *testa
      resulta &lt;&lt; value
    when *testb
      resultb &lt;&lt; value
    else
      resultc &lt;&lt; value
    end
  end
  assert_equal [1,7], resulta
  assert_equal [5], resultb
  assert_equal [3,8], resultc
</pre>
          <pre class='console out_txt'>Skip OP=21
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='segv'>parenthesed do-block in cmdarg</h3>
          
          <pre class='console rb_txt'>  class ParenDoBlockCmdArg
    def test(block)
      block.call
    end
  end
  x = ParenDoBlockCmdArg.new
  result = x.test (Proc.new do :ok; end)
  assert_equal :ok, result
</pre>
          <pre class='console out_txt'>Skip OP=45
Segmentation fault (core dumped)
[New LWP 36955]
Core was generated by `/home/yhara/work/mrubyc_test/mrubyc/sample_c/mrubyc test/mrubytest.mrb&#39;.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x00000000004032f0 in ?? ()
#0  0x00000000004032f0 in ?? ()
#1  0x00007fff8489eb40 in ?? ()
#2  0x000000000060a3e2 in ?? ()
#3  0x008081b78489eb40 in ?? ()
#4  0x000000000060a3c0 in ?? ()
#5  0x0000000200000001 in ?? ()
#6  0x0000000100000003 in ?? ()
#7  0x0080000a0060a210 in ?? ()
#8  0x0000000000000000 in ?? ()
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>method definition in cmdarg</h3>
          
          <pre class='console rb_txt'>  if false
    bar def foo; self.each do end end
  end
  true
</pre>
          <pre class='console out_txt'></pre>
          <pre class='console cruby_txt'></pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>multiline comments work correctly</h3>
          
          <pre class='console rb_txt'>=begin
this is a comment with nothing after begin and end
=end
=begin  this is a comment 
this is a comment with extra after =begin
=end
=begin
this is a comment that has =end with spaces after it
=end  
=begin this is a comment
this is a comment that has extra after =begin and =end with spaces after it
=end  
  line = __LINE__
=begin	this is a comment
this is a comment that has extra after =begin and =end with tabs after it
=end	xxxxxxxxxxxxxxxxxxxxxxxxxx
  assert_equal(line + 4, __LINE__)
</pre>
          <pre class='console out_txt'>ok
</pre>
          <pre class='console cruby_txt'>ok
</pre>
          <br style='clear:both'>
        
      </div>
    </div>
  
    <div>
      <h2 class='test-category ok' data-idx='4'>
        test_unicode.rb
      </h2>
      <div class='test-detail' data-idx='4'>
        
          
            <h3 class='ok'>bare \u notation test</h3>
          
          <pre class='console rb_txt'>  # Mininum and maximum one byte characters
  assert_equal(&quot;\u0000&quot;, &quot;\x00&quot;)
  assert_equal(&quot;\u007F&quot;, &quot;\x7F&quot;)
  # Mininum and maximum two byte characters
  assert_equal(&quot;\u0080&quot;, &quot;\xC2\x80&quot;)
  assert_equal(&quot;\u07FF&quot;, &quot;\xDF\xBF&quot;)
  # Mininum and maximum three byte characters
  assert_equal(&quot;\u0800&quot;, &quot;\xE0\xA0\x80&quot;)
  assert_equal(&quot;\uFFFF&quot;, &quot;\xEF\xBF\xBF&quot;)
  # Four byte characters require the \U notation
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
          
            <h3 class='ok'>braced \u notation test</h3>
          
          <pre class='console rb_txt'>  # Mininum and maximum one byte characters
  assert_equal(&quot;\u{0000}&quot;, &quot;\x00&quot;)
  assert_equal(&quot;\u{007F}&quot;, &quot;\x7F&quot;)
  # Mininum and maximum two byte characters
  assert_equal(&quot;\u{0080}&quot;, &quot;\xC2\x80&quot;)
  assert_equal(&quot;\u{07FF}&quot;, &quot;\xDF\xBF&quot;)
  # Mininum and maximum three byte characters
  assert_equal(&quot;\u{0800}&quot;, &quot;\xE0\xA0\x80&quot;)
  assert_equal(&quot;\u{FFFF}&quot;, &quot;\xEF\xBF\xBF&quot;)
  # Mininum and maximum four byte characters
  assert_equal(&quot;\u{10000}&quot;,  &quot;\xF0\x90\x80\x80&quot;)
  assert_equal(&quot;\u{10FFFF}&quot;, &quot;\xF4\x8F\xBF\xBF&quot;)
</pre>
          <pre class='console out_txt'>ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <pre class='console cruby_txt'>ok
ok
ok
ok
ok
ok
ok
ok
</pre>
          <br style='clear:both'>
        
      </div>
    </div>
  

  <script type='text/javascript'>
    $(function(){
      $('.test-category').each(function(){
        var idx = $(this).data('idx');
        $(this).click(function() {
          $('.test-detail[data-idx='+idx+']').toggle();
        });
      });
    });
  </script>

</body>
</html>

